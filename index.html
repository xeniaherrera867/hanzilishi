<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‰∏≠ÂõΩÊ±âÂ≠óÊºîÂèòÂè≤ - Five Systems of Chinese Character Evolution</title>
    <style>
        :root {
            --ink: #1a1a1a;
            --river: #f0f7ff;
            --gold: #b2945b;
            --paper: #fdfcf8;
            --accent: #e67e22;
        }

        body, html {
            margin: 0; padding: 0;
            font-size: 18px; 
            font-family: "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", serif;
            background-color: var(--paper);
            color: var(--ink);
            line-height: 1.8;
        }

        /* ÂØºËà™‰∏éËØ≠Ë®ÄÂàáÊç¢ */
        nav {
            position: fixed; top: 0; width: 100%;
            background: rgba(255, 255, 255, 0.95);
            display: flex; justify-content: center; gap: 30px;
            padding: 20px 0; z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        nav a {
            text-decoration: none; color: var(--ink); font-weight: bold;
            font-size: 1.1rem;
            transition: color 0.3s; cursor: pointer;
        }

        nav a:hover { color: var(--gold); }

        .lang-toggle {
            position: fixed; top: 15px; right: 20px; z-index: 1001;
            padding: 8px 18px; border: 2px solid var(--gold);
            font-size: 1rem;
            background: transparent; cursor: pointer; border-radius: 4px;
        }

        /* È°µÈù¢ÁªìÊûÑ */
        section { 
            display: none; padding: 120px 20px 80px; 
            max-width: 1100px; margin: 0 auto; 
        }
        section.active { display: block; animation: fadeIn 0.5s; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* Êó∂Èó¥Á∫øÊ†∑Âºè */
        .intro-box {
            background: #fff; border: 1px solid var(--gold);
            padding: 30px; margin-bottom: 40px; border-radius: 8px;
            font-size: 1.2rem;
        }

        .river-line {
            position: relative; border-left: 3px solid var(--gold);
            padding-left: 40px; margin-left: 20px;
        }

        .stage-node {
            position: relative; background: white;
            padding: 40px; margin-bottom: 70px;
            border-radius: 12px; box-shadow: 0 5px 20px rgba(0,0,0,0.05);
        }

        .stage-node h2 {
            font-size: 2rem;
            margin-top: 0;
        }

        .stage-node::before {
            content: ''; position: absolute; left: -49px; top: 40px;
            width: 18px; height: 18px; background: var(--gold); border-radius: 50%;
        }

        .media-area {
            display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 25px 0;
        }

        .media-item {
            aspect-ratio: 16/9; background: #000; border: 1px solid #ddd;
            display: flex; align-items: center; justify-content: center; 
            overflow: hidden; border-radius: 6px;
        }

        .media-item img, .media-item video {
            width: 100%; height: 100%; object-fit: cover;
        }

        .system-dropdown {
            border: 1px solid #eee; margin-bottom: 12px; border-radius: 5px;
        }

        .system-label {
            background: #f8f9fa; padding: 15px 20px; cursor: pointer;
            font-weight: bold; font-size: 1.1rem; display: flex; justify-content: space-between;
        }

        .system-content {
            display: none; padding: 20px; background: #fff; border-top: 1px solid #eee;
            font-size: 1.05rem;
        }

        .deep-dive-btn {
            background: var(--ink); color: white; padding: 12px 25px;
            border: none; cursor: pointer; margin-top: 20px; border-radius: 4px;
            font-size: 1rem;
        }

        .deep-dive-content {
            display: none; margin-top: 20px; padding: 30px;
            background: #fdf5e6; border-left: 6px solid var(--gold); white-space: pre-line;
            font-size: 1.1rem; color: #333;
        }

        /* Êó∂Á©∫ÈïøÂªäÊ†∑Âºè */
        .corridor-container { max-width: 900px; margin: 0 auto; }
        .game-card { background: white; padding: 50px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .game-card p { font-size: 1.2rem; }
        .choice-list { margin-top: 35px; }
        .choice-btn {
            display: block; width: 100%; padding: 22px; margin-bottom: 20px;
            border: 2px solid var(--gold); background: none; cursor: pointer;
            text-align: left; font-size: 1.1rem; border-radius: 8px; transition: 0.3s;
        }
        .choice-btn:hover { background: var(--gold); color: white; }
        .result-panel {
            display: none; margin-top: 30px; padding: 30px;
            background: #e8f5e9; border-radius: 10px; border-left: 6px solid #2e7d32;
            font-size: 1.15rem;
        }

        /* ÁîªÊùøÊ†∑Âºè */
        .canvas-container { text-align: center; }
        #board {
            background: #fff; border: 4px solid var(--ink);
            cursor: crosshair; touch-action: none;
            background-image: radial-gradient(#eee 1px, transparent 1px);
            background-size: 25px 25px;
        }
        .canvas-tools { margin-top: 30px; display: flex; justify-content: center; gap: 30px; }
        .btn-clear { background: #d32f2f; color: white; border: none; padding: 15px 40px; cursor: pointer; border-radius: 5px; font-size: 1.1rem; }

        .summary-box {
            background: var(--ink); color: white; padding: 40px;
            margin-top: 60px; border-radius: 8px; text-align: center;
            font-size: 1.25rem;
        }
    </style>
</head>
<body>

    <button class="lang-toggle" onclick="toggleLanguage()">English / ‰∏≠Êñá</button>

    <nav>
        <a onclick="switchPage('timeline')">Êó∂Èó¥Á∫ø | Timeline</a>
        <a onclick="switchPage('corridor')">Êó∂Á©∫ÈïøÂªä | Corridor</a>
        <a onclick="switchPage('canvas-page')">ÁîªÊùø‰∫íÂä® | Board</a>
    </nav>

    <section id="timeline" class="active">
        <div class="intro-box" id="main-intro"></div>
        <div class="river-line" id="timeline-list"></div>
        <div class="summary-box" id="final-summary"></div>
    </section>

    <section id="corridor">
        <div class="corridor-container">
            <h2 id="corridor-title" style="text-align: center; color: var(--accent); font-size: 2.2rem;"></h2>
            <div id="game-content" class="game-card"></div>
        </div>
    </section>

    <section id="canvas-page">
        <div class="canvas-container">
            <div class="intro-box" id="canvas-task"></div>
            <div style="position: relative; display: inline-block;">
                <canvas id="board" width="850" height="550"></canvas>
                <div id="canvas-bg-text" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 240px; color: #f2f2f2; pointer-events: none; z-index: 0; user-select: none;">‰πê</div>
            </div>
            <div class="canvas-tools">
                <button class="btn-clear" onclick="clearCanvas()">Ê∏ÖÁ©∫ÁîªÊùø | Clear Board</button>
            </div>
        </div>
    </section>

    <script>
        const mediaAssets = [
            { img: "https://q1.itc.cn/q_70/images03/20240925/c743164515fc44159ea8bd1164568bff.jpeg", vid: "h4/video/oracl.mp4" },
            { img: "https://p9.itc.cn/images01/20210507/a8eb1cf5fd6945c6a2c39161d6c6c35f.jpeg", vid: "h4/video/jw.mp4" },
            { img: "https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimage109.360doc.com%2FDownloadImg%2F2023%2F11%2F1418%2F275334642_9_20231114064759993.jpeg&refer=http%3A%2F%2Fimage109.360doc.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1770741343&t=fd4315b142443807c49f42ea124c5155", vid: "h4/video/wyw.mp4" },
            { img: "https://zhuanti.mct.gov.cn/Uploads/Picture/2022/09/21/u632ab969a3373.jpg", vid: "h4/video/bhw.mp4" },
            { img: "https://img2.baidu.com/it/u=1136296859,4135464294&fm=253&app=138&f=JPEG?w=500&h=707", vid: "h4/video/xdhz.mp4" }
        ];

        const DATA = {
            zh: {
                intro: "‰∏ªÁ∫øÈÄªËæëÔºöÊ±âÂ≠óÁöÑÂèëÂ±ï‰∏çÊòØÂçï‰∏Ä‚ÄúÂ≠ó‰ΩìÂèòÂåñ‚ÄùÔºåËÄåÊòØËØ≠Èü≥Á≥ªÁªü„ÄÅËØçÊ±áÁ≥ªÁªü„ÄÅËØ≠Ê≥ïÁ≥ªÁªü„ÄÅ‰π¶ÂÜôÁ≥ªÁªü„ÄÅËØ≠Áî®Á≥ªÁªü ‰∫îÂ§ßÁ≥ªÁªüÂçèÂêåÊºîËøõÁöÑÁªìÊûú„ÄÇ",
                summary: "Êó∂Èó¥Á∫øÊÄªÁªìÔºö‰∏≠ÂõΩÊ±âÂ≠óÁöÑÂèëÂ±ïÂè≤ÔºåÊòØËØ≠Èü≥„ÄÅËØçÊ±á„ÄÅËØ≠Ê≥ï„ÄÅ‰π¶ÂÜô‰∏éËØ≠Áî®‰∫îÂ§ßÁ≥ªÁªü‰∏çÊñ≠ÈáçÁªÑ‰∏éÂÜçÂπ≥Ë°°ÁöÑÂéÜÂè≤„ÄÇÊ±âÂ≠ó‰∏ç‰ªÖËÆ∞ÂΩïËØ≠Ë®ÄÔºå‰πüÂ°ëÈÄ†‰∫Ü‰∏≠ÂõΩÊñáÂåñÁöÑË°®ËææÊñπÂºè„ÄÇ",
                corridorTitle: "Ê±âÂ≠óËÉΩÈáèÊ≠£Âú®ÊµÅÂ§±ÔºåÊàë‰ª¨ÈúÄË¶ÅÈÄöËøá‰∫î‰∏™Êó∂Á©∫ËäÇÁÇπÁöÑËÄÉÈ™åÔºåÊâçËÉΩÂ∏¶ÂõûÂÆåÊï¥ÁöÑÊñáÊòéÁÅ´Áßç„ÄÇ",
                canvasTask: "‚ÄúÊú™Êù•ÈÄ†Â≠óÊåëÊàò‚Äù‰ªªÂä°ÔºöÂ±èÂπï‰∏äÂ±ïÁ§∫‰∏Ä‰∏™Âü∫Á°ÄÊ±âÂ≠ó‚Äú‰πê‚Äù„ÄÇÂ¶ÇÊûúÊú™Êù•Êúâ‰∏Ä‰∏™Â≠óËÉΩÂêåÊó∂Ë°®Ëææ‚ÄòÂø´‰πê‚Äô„ÄÅ‚ÄòÈü≥‰πê‚ÄôÂíå‚ÄòÁîµÂ≠ê‚ÄôÔºå‰Ω†‰ºöÊÄé‰πàÁªôÂÆÉÂä†‰∏ÄÁ¨îÔºü",
                stages: [
                    {
                        name: "Á¨¨‰∏ÄÈò∂ÊÆµÔΩúÁî≤È™®Êñá (Oracle Bone Script)",
                        time: "ÂïÜ‰ª£ÔºåÁ∫¶ÂÖ¨ÂÖÉÂâç14‰∏ñÁ∫™",
                        node: "üï∞Ô∏è ÂïÜÁéãÊúùÂç†Âçú‰∏éÁ•≠Á•ÄÊó∂Êúü | Ê±âÂ≠óÊúÄÊó©Êàê‰ΩìÁ≥ªÁöÑ‰π¶ÂÜôÂΩ¢ÊÄÅ",
                        systems: {
                            "1Ô∏è‚É£ ËØ≠Èü≥Á≥ªÁªü": "ËØ≠Èü≥Â∞öÊú™Ë¢´Á≥ªÁªüËÆ∞ÂΩïÔºõÊ±âÂ≠ó‰∏ªË¶ÅËÆ∞ÂΩïÊÑè‰πâËÄåÈùûÁ≤æÁ°ÆËØ≠Èü≥ÔºõÂêåÂ≠óÂèØÂØπÂ∫î‰∏çÂêåËØªÈü≥„ÄÇ",
                            "2Ô∏è‚É£ ËØçÊ±áÁ≥ªÁªü": "ËØçÊ±áÈ´òÂ∫¶ÈõÜ‰∏≠‰∫éÔºöÁéãÊùÉ„ÄÅÁ•≠Á•Ä„ÄÅÂ§©Ë±°„ÄÅÊàò‰∫â„ÄÅÂÜú‰∫ã„ÄÇÂ§ö‰∏∫ÂçïÈü≥ËäÇËØç„ÄÇ",
                            "3Ô∏è‚É£ ËØ≠Ê≥ïÁ≥ªÁªü": "ËØ≠Ê≥ïÈ´òÂ∫¶ÁÆÄÁ∫¶ÔºõÂº∫ÁÉà‰æùËµñËØ≠Â¢ÉÁêÜËß£ÔºõËØ≠Â∫èÂàùÊ≠•Âõ∫ÂÆöÔºå‰ΩÜ‰ªçËæÉÁÅµÊ¥ª„ÄÇ",
                            "4Ô∏è‚É£ ‰π¶ÂÜôÁ≥ªÁªü": "‰ª•Ë±°ÂΩ¢„ÄÅÊåá‰∫ã‰∏∫‰∏ªÔºõÂàªÂÜô‰∫éÈæüÁî≤„ÄÅÂÖΩÈ™®ÔºõÊòØ‰ªé‚ÄúÁîª‚ÄùËµ∞Âêë‚ÄúÂ≠ó‚ÄùÁöÑÂÖ≥ÈîÆÈò∂ÊÆµ„ÄÇ",
                            "5Ô∏è‚É£ ËØ≠Áî®Á≥ªÁªü": "Âè™ÊúçÂä°‰∫éÁéãÊùÉ‰∏éÂÆóÊïôÔºõÈùûÊó•Â∏∏‰∫§ÊµÅÂ∑•ÂÖ∑ÔºõÂÖ∑ÊúâÂº∫ÁÉàÁöÑÁ•ûÂú£ÊÄß‰∏é‰ª™ÂºèÊÄß„ÄÇ"
                        },
                        deep: "„ÄêÁî≤È™®ÊñáÔºöÂàªÂú®È™®Â§¥‰∏äÁöÑÂç†ÂçúÊñáÂ≠ó„Äë\nÊó∂ÊúüÔºöÂïÜÊúùÔºàÁ∫¶ÂÖ¨ÂÖÉÂâç1600Âπ¥ ‚Äì ÂÖ¨ÂÖÉÂâç1046Âπ¥Ôºâ\n‰π¶ÂÜôÂ™í‰ªãÔºöÈæüËÖπÁî≤„ÄÅÁâõËÇ©ËÉõÈ™®\nÈÄ†Â≠óÂéüÁêÜÔºö‰∏ªË¶ÅÂü∫‰∫éË±°ÂΩ¢ÂíåÊåá‰∫ã„ÄÇÂÆÉÊòØÊ±âÂ≠óÁ≥ªÁªüÁöÑ‚ÄúÂéüÂûãÂ∫ì‚ÄùÔºöÊñáÂ≠óÂ∞öÊú™Ê†áÂáÜÂåñÔºåÂ≠òÂú®Â§ßÈáèÁöÑÂºÇ‰ΩìÂ≠ó„ÄÇ\nÂàªÂÜôÊäÄÊúØÔºö‰ΩøÁî®ÈùíÈìúÊàñÁéâÂà∂ÂàªÂàÄÂàªÂÜô„ÄÇÈ™®Â§¥ÁöÑÁ°¨Â∫¶‰ΩøÂæóÁ¨îÁîªÂëàÁé∞Âá∫Âπ≥Áõ¥„ÄÅÂ∞ñÈîêÁöÑÈ£éÊ†º„ÄÇ"
                    },
                    {
                        name: "Á¨¨‰∫åÈò∂ÊÆµÔΩúÈáëÊñá (Bronze Inscriptions)",
                        time: "Ë•øÂë®‚ÄîÊò•ÁßãÊàòÂõΩ",
                        node: "üï∞Ô∏è ÈùíÈìúÂô®Èì≠ÊñáÂπøÊ≥õÂá∫Áé∞ | ÊñáÂ≠ó‰ªé‚ÄúÁ•û‰∫ã‚ÄùËµ∞Âêë‚Äú‰∫∫‰∫ã‚Äù",
                        systems: {
                            "1Ô∏è‚É£ ËØ≠Èü≥Á≥ªÁªü": "ÂΩ¢Â£∞Â≠óÂºÄÂßãÂ§ßÈáèÂá∫Áé∞ÔºõÈÄöËøáÂ≠óÂΩ¢Èó¥Êé•Ê†áÊ≥®ËØªÈü≥ÔºõÈü≥‰πâÂÖ≥Á≥ªË∂ã‰∫éÁ®≥ÂÆö„ÄÇ",
                            "2Ô∏è‚É£ ËØçÊ±áÁ≥ªÁªü": "Êñ∞Â¢ûÂ§ßÈáèÊ≥ïÂæã„ÄÅÁ§ºÂà∂„ÄÅÊîøÊ≤ª‰º¶ÁêÜËØçÊ±áÔºõÊäΩË±°Ê¶ÇÂøµÊòæËëóÂ¢ûÂä†„ÄÇ",
                            "3Ô∏è‚É£ ËØ≠Ê≥ïÁ≥ªÁªü": "Âè•ÂºèË∂ã‰∫éÂ§çÊùÇÔºõ‰øÆËæû‰∏éÂØπÂÅ∂ÂºÄÂßãÂá∫Áé∞„ÄÇ",
                            "4Ô∏è‚É£ ‰π¶ÂÜôÁ≥ªÁªü": "Â™í‰ªãËΩ¨‰∏∫ÈùíÈìúÂô®ÔºõÂ≠óÂΩ¢Êõ¥Âä†ËßÑËåÉÔºåÁ∫øÊù°ÂúÜÊ∂¶ÔºõÂàùÊ≠•ÂΩ¢Êàê‰π¶ÂÜô‰º†Áªü„ÄÇ",
                            "5Ô∏è‚É£ ËØ≠Áî®Á≥ªÁªü": "Áî®‰∫éËÆ∞Âäü„ÄÅËÆ≠ËØ´„ÄÅÂà∂Â∫¶Á°ÆËÆ§ÔºõËØ≠Ë®ÄÊàê‰∏∫Á§æ‰ºöÁß©Â∫èÂ∑•ÂÖ∑„ÄÇ"
                        },
                        deep: "„ÄêÈáëÊñáÔºöÈì∏ÂàªÂú®ÈùíÈìúÂô®‰∏äÁöÑÁ§ºÂà∂‰∏éÊùÉÂ®Å„Äë\nÊó∂ÊúüÔºöË•øÂë®ÔºàÁ∫¶ÂÖ¨ÂÖÉÂâç1046Âπ¥ ‚Äì ÂÖ¨ÂÖÉÂâç771Âπ¥Ôºâ\n‰π¶ÂÜôÂ™í‰ªãÔºöÈùíÈìúÁ§ºÂô®ÔºåÂ¶ÇÈºé„ÄÅÁ∞ã„ÄÅÈíüÁ≠â„ÄÇ\nÊäÄÊúØÂèòÈù©ÔºöËåÉÈì∏Ê≥ï„ÄÇÂú®Èì∏ÈÄ†ÂâçÂ∞ÜÊñáÂ≠óÂàªÂú®Èô∂ËåÉ‰∏äÔºå‰∫ßÁîüÁöÑÁ¨îÁîªÊõ¥Âä†ÂéöÈáç‰∏îÂúÜÊ∂¶„ÄÇ\nÁ§æ‰ºöÂäüËÉΩÔºöÁî®‰∫é‚ÄúÈì≠ÂäüÈ¢ÇÂæ∑‚ÄùÔºåËÆ∞ÂΩïÂÜåÂëΩ„ÄÅËµèËµê„ÄÅÁ•≠Á•ÄÂíåÊàò‰∫âÊàêÂ∞±„ÄÇ"
                    },
                    {
                        name: "Á¨¨‰∏âÈò∂ÊÆµÔΩúÊñáË®ÄÊñá (Classical Chinese)",
                        time: "Áß¶Ê±â‚ÄîÊ∏ÖÊú´",
                        node: "üï∞Ô∏è Áß¶Áªü‰∏ÄÊñáÂ≠ó | Ê±âÂ≠óËøõÂÖ•ÈïøÊúüÁ®≥ÂÆöÊúü",
                        systems: {
                            "1Ô∏è‚É£ ËØ≠Èü≥Á≥ªÁªü": "ËØ≠Èü≥ÊåÅÁª≠ÂèòÂåñÔºàÂè§Èü≥ ‚Üí ‰∏≠Âè§Èü≥ÔºâÔºõ‰π¶ÂÜôÁ≥ªÁªü‰øùÊåÅÁ®≥ÂÆöÔºõÂá∫Áé∞Â≠óÈü≥ÂàÜÁ¶ª„ÄÇ",
                            "2Ô∏è‚É£ ËØçÊ±áÁ≥ªÁªü": "ËØçÊ±áÈ´òÂ∫¶È´òÂ∫¶ÂáùÁªÉÔºõ‰∏ÄÂ≠óÂ§ö‰πâÊôÆÈÅçÔºõÂ§ßÈáè‰π¶Èù¢‰∏ìÁî®ËØç„ÄÇ",
                            "3Ô∏è‚É£ ËØ≠Ê≥ïÁ≥ªÁªü": "‰ª•ÊÑèÂêà‰∏∫‰∏ªÔºõÂ§ßÈáèÁúÅÁï•ÔºõÂº∫‰æùËµñËØªËÄÖÊñáÂåñËÉåÊôØ„ÄÇ",
                            "4Ô∏è‚É£ ‰π¶ÂÜôÁ≥ªÁªü": "Â∞èÁØÜ ‚Üí Èö∂‰π¶ ‚Üí Ê•∑‰π¶ÔºõÊàê‰∏∫‰∏ú‰∫öÊñáÂåñÂúàÂÖ±ÈÄö‰π¶ÂÜôÁ≥ªÁªü„ÄÇ",
                            "5Ô∏è‚É£ ËØ≠Áî®Á≥ªÁªü": "‰∏•Ê†ºÁöÑ‰π¶Èù¢Á≤æËã±ËØ≠Ë®ÄÔºõÁî®‰∫éÊîøÊ≤ª„ÄÅÂ≠¶ÊúØ„ÄÅÊñáÂ≠¶Ôºõ‰∏éÂè£ËØ≠‰∏•ÈáçËÑ±ËäÇ„ÄÇ"
                        },
                        deep: "„ÄêÁÆÄÂ∏õÊñáË®ÄÊñáÔºöÊûÅËá¥ÂéãÁº©ÁöÑËØ≠Ë®ÄËâ∫ÊúØ„Äë\n‰π¶ÂÜôÂ™í‰ªãÔºöÁ´πÁÆÄ„ÄÅÊú®Áâç„ÄÅÁº£Â∏õ„ÄÇ\nÊñáÂ≠óÊºîÂèòÔºöÈö∂Âèò„ÄÇÊ±âÂ≠ó‰ªéË±°ÂΩ¢ÂõæÁîªÂΩ¢ÊÄÅËΩ¨Âêë‰ª•Á¨îÁîª‰∏∫Âü∫Á°ÄÁöÑÁ¨¶Âè∑ÔºåÂ§ßÂπÖÊèêÂçá‰∫Ü‰π¶ÂÜôÊïàÁéá„ÄÇ\nËØ≠Ë®ÄÁâπÂæÅÔºö‰ª•ÂçïÈü≥ËäÇËØç‰∏∫‰∏ªÔºõËØ≠Ê≥ïÈ´òÂ∫¶ÂéãÁº©Ôºå‰æùËµñÊÑèÂêà„ÄÇ"
                    },
                    {
                        name: "Á¨¨ÂõõÈò∂ÊÆµÔΩúÁôΩËØùÊñá (Vernacular Chinese)",
                        time: "20‰∏ñÁ∫™Âàù ¬∑ Êñ∞ÊñáÂåñËøêÂä®",
                        node: "üï∞Ô∏è ‰∫îÂõõËøêÂä® | ‚ÄúË®ÄÊñá‰∏ÄËá¥‚Äù",
                        systems: {
                            "1Ô∏è‚É£ ËØ≠Èü≥Á≥ªÁªü": "‰π¶ÂÜôË¥¥ËøëÂÆûÈôÖÂè£ËØ≠Ôºõ‰ª•ÂåóÊñπËØù‰∏∫Âü∫Á°Ä„ÄÇ",
                            "2Ô∏è‚É£ ËØçÊ±áÁ≥ªÁªü": "Êñ∞ËØçÂ§ßÈáèÂá∫Áé∞ÔºöÁßëÂ≠¶„ÄÅÊ∞ë‰∏ª„ÄÅÁ§æ‰ºöÔºõÂ§ñÊù•ËØç„ÄÅÂ§çÂêàËØçÂ¢ûÂä†„ÄÇ",
                            "3Ô∏è‚É£ ËØ≠Ê≥ïÁ≥ªÁªü": "ÊòéÁ°Æ‰∏ªË∞ìÁªìÊûÑÔºõËôöËØçÁ≥ªÁªüÊàêÁÜü„ÄÇ",
                            "4Ô∏è‚É£ ‰π¶ÂÜôÁ≥ªÁªü": "‰ªç‰ΩøÁî®Ê±âÂ≠óÔºõÊ†áÁÇπÁ¨¶Âè∑Á≥ªÁªüÁ°ÆÁ´ã„ÄÇ",
                            "5Ô∏è‚É£ ËØ≠Áî®Á≥ªÁªü": "Èù¢ÂêëÂ§ß‰ºóÔºõËØ≠Ë®ÄÂäüËÉΩÊ∞ë‰∏ªÂåñ„ÄÇ"
                        },
                        deep: "„ÄêÁôΩËØùÊñáÂ≠¶ÔºöÊñáÂ≠óÂõûÂΩíÂè£ËØ≠„Äë\nËΩ¨ÂûãÊó∂ÊúüÔºöÁôΩËØùÊñáÂú®Âè§ÂÖ∏ÊñáÂ≠¶ËÉåÊôØ‰∏ãÈÄêÊ∏êÂÖ¥Ëµ∑„ÄÇÈõïÁâàÂç∞Âà∑ÂíåÊ¥ªÂ≠óÂç∞Âà∑Âä©Êé®‰∫ÜÂÖ∂‰º†Êí≠„ÄÇ\nÊ†∏ÂøÉÊÑè‰πâÔºöÊåëÊàò‰∫ÜÁ≤æËã±Èò∂Â±ÇÁöÑÊñáÂ≠óÂØÜÁ†ÅÔºå‰ΩøËØ≠Ë®ÄÊàê‰∏∫Â§ß‰ºóÂÖ±‰∫´ÁöÑÊñáÂåñÂ™í‰ªã„ÄÇ"
                    },
                    {
                        name: "Á¨¨‰∫îÈò∂ÊÆµÔΩúÁé∞‰ª£Ê±âÂ≠ó (Modern Chinese)",
                        time: "20‰∏ñÁ∫™‰∏≠ÂêéÊúü‚ÄîËá≥‰ªä",
                        node: "üï∞Ô∏è ÁÆÄÂåñÂ≠óÊé®Âπø | Êï∞Â≠óÂ™í‰ªãÊó∂‰ª£",
                        systems: {
                            "1Ô∏è‚É£ ËØ≠Èü≥Á≥ªÁªü": "ÊôÆÈÄöËØùÊ†áÂáÜÂåñÔºõÊãºÈü≥Á≥ªÁªüËæÖÂä©Â≠¶‰π†‰∏éËæìÂÖ•„ÄÇ",
                            "2Ô∏è‚É£ ËØçÊ±áÁ≥ªÁªü": "ÁßëÊäÄËØçÊ±á„ÄÅÁΩëÁªúËØ≠Ë®ÄÈ´òÈÄüÊâ©Âº†ÔºõÊñ∞ËØçÊõ¥Êñ∞Âë®ÊúüÊûÅÁü≠„ÄÇ",
                            "3Ô∏è‚É£ ËØ≠Ê≥ïÁ≥ªÁªü": "ËØ≠Ê≥ïÈ´òÂ∫¶Á®≥ÂÆöÔºõ‰π¶Èù¢ËØ≠‰∏éÂè£ËØ≠ÂÜçÊ¨°ËûçÂêà„ÄÇ",
                            "4Ô∏è‚É£ ‰π¶ÂÜôÁ≥ªÁªü": "ÁÆÄÂåñÂ≠ó + Êï∞Â≠óËæìÂÖ•Ôºõ‰ªé‚Äú‰π¶ÂÜô‚ÄùËΩ¨Âêë‚ÄúËæìÂÖ•‚Äù„ÄÇ",
                            "5Ô∏è‚É£ ËØ≠Áî®Á≥ªÁªü": "‰ΩøÁî®Âú∫ÊôØÈ´òÂ∫¶Â§öÂÖÉÔºõËøõÂÖ•ÂÖ®ÁêÉÂåñ‰º†Êí≠Èò∂ÊÆµ„ÄÇ"
                        },
                        deep: "„ÄêÁé∞‰ª£Ê±âËØ≠ÔºöÂ§ß‰ºó‰º†Êí≠ÁöÑËØ≠Ë®Ä„Äë\nÊó∂ÊúüÔºö20‰∏ñÁ∫™Ëá≥‰ªä„ÄÇ\nÊï∞Â≠óÂåñËΩ¨ÂûãÔºöÊñáÂ≠óÂÖ®Èù¢ËΩ¨ÂêëÁΩëÁªúÂπ≥Âè∞‰∏éÁßªÂä®ÈÄöËÆØÂ™í‰ªã„ÄÇ\nÊ†∏ÂøÉÁêÜÂøµÔºöËØ≠Ë®Ä‰∏çÂÜçÊòØË∫´‰ªΩÁ≠âÁ∫ßÁöÑÊ†áÂøóÔºåËÄåÊòØÂÖ®‰ΩìÊ∞ë‰ºóËß¶ÊâãÂèØÂèäÁöÑÂÖ±‰∫´ËµÑÊ∫ê„ÄÇ"
                    }
                ],
                game: [
                    { loc: "üìç Á¨¨‰∏ÄÁ´ôÔºöÂïÜÊúù¬∑Âç†ÂçúÂØÜÂÆ§", scene: "Á•≠Âè∏Ë¶ÅÂú®ÈæüÁî≤‰∏äËÆ∞ÂΩï‰∏ÄÂú∫ÂÜ≥ÂÆöÁîüÊ≠ªÁöÑÂ§ßÈõ®Ôºå‰ΩÜÂàªÂàÄÈíù‰∫ÜÔºåÊó∂Èó¥Á¥ßËø´ÔºÅ", options: [{ t: "ÈÄâÈ°π AÔºö ÂùöÊåÅÁîª‰∏ÄÂπÖÁ≤æÁæéÁöÑ‚Äú‰∏ãÈõ®Âõæ‚Äù„ÄÇ", res: "ÔºàÂêéÊûúÔºöÊó∂Èó¥ËÄóÂ∞ΩÔºåËÆ∞ÂΩïÂ§±Ë¥•ÔºÅÔºâ" }, { t: "ÈÄâÈ°π BÔºö ÊîæÂºÉÁîªÁîªÔºåÂè™Áî®Âá†Êù°ÁÆÄÂçïÁöÑÊäòÁ∫ø‰ª£Ë°®Èõ®ÁÇπ„ÄÇ", res: "ÔºàÂêéÊûúÔºöËß£ÈîÅÁî≤È™®ÊñáÔºåÊïàÁéáÁøªÂÄçÔºÅÔºâ" }], interact: "„Äê‰∫íÂä®‰ªªÂä°„ÄëÂÜôÔºöËØ∑ÂÖ®Âú∫ËßÇ‰ºóÁî®ÊâãÊåáÂú®ÊéåÂøÉÂø´ÈÄü‚ÄúÂàª‚ÄùÂá∫‰∏Ä‰∏™‰Ω†ËÆ§‰∏∫ÊúÄÁÆÄÂçïÁöÑ‚ÄúÈõ®‚ÄùÂ≠ó„ÄÇ" },
                    { loc: "üìç Á¨¨‰∫åÁ´ôÔºöÂë®Êúù¬∑ÈùíÈìúÁ¶ÅÂå∫", scene: "ÂõΩÁéãË¶ÅÊää‰Ω†ÁöÑÂêçÂ≠óÈì∏Âú®ÂçÉÊñ§ÈáçÁöÑÂÆùÈºé‰∏äÔºå‰ΩÜÈáëÂ±ûÊ∂≤Âø´ÂáùÂõ∫‰∫Ü„ÄÇ", options: [{ t: "ÈÄâÈ°π AÔºö ÊääÂ≠óÂÜôÂæóÁªÜÈïøÂ∞ñÈîê„ÄÇ", res: "ÔºàÂêéÊûúÔºöÂ≠óÂ§™ÁªÜÔºåÈáëÂ±ûÊµÅ‰∏çËøõÂéªÔºÅÔºâ" }, { t: "ÈÄâÈ°π BÔºö ÊääÂ≠óÂÜôÂæóÂúÜÊ∂¶„ÄÅÁ≤óÂ£Æ„ÄÅÁ®≥Èáç„ÄÇ", res: "ÔºàÂêéÊûúÔºöÈáëÊñáËØûÁîüÔºå‰∏á‰∏ñÊµÅ‰º†ÔºÅÔºâ" }], interact: "„Äê‰∫íÂä®‰ªªÂä°„ÄëËØ¥ÔºöÈÄâ B ÂêéÔºåËØ∑ÂÖ®Âú∫ÈΩêÂ£∞ÂñäÂá∫Ëøô‰∏™ÈºéÁöÑÂêçÂ≠óÔºö‚Äú‰∏ÄË®Ä‰πùÈºéÔºÅ‚Äù" },
                    { loc: "üìç Á¨¨‰∏âÁ´ôÔºöÁß¶Ê±â¬∑Á´πÁÆÄËø∑ÂÆ´", scene: "ËæπÂ¢ÉÊÄ•Êä•ÔºÅ‰Ω†Âè™Êúâ‰∏ÄÂ∞èÂùóÁ´πÁÆÄÔºåÂç¥Ë¶ÅÊ±áÊä•Ôºö‚ÄúÊïå‰∫∫ÂæàÂ§öÔºåÊàë‰ª¨Ê≤°Á≤ÆÈ£ü‰∫ÜÔºåÂø´ÁÇπÊ¥æÂÖµÊïëÂëΩÔºÅ‚Äù", options: [{ t: "ÈÄâÈ°π AÔºö ÁÖßÂÆûÂÜôÔºåÊääËøôÂá†ÂçÅ‰∏™Â≠óÂÖ®Âàª‰∏äÂéª„ÄÇ", res: "ÔºàÂêéÊûúÔºöÁ´πÁÆÄÂàªÁàÜ‰∫ÜÔºåÂüéÁ†¥‰∫ÜÔºÅÔºâ" }, { t: "ÈÄâÈ°π BÔºö ÂêØÂä®‚ÄúÊûÅÁÆÄÊ®°Âºè‚ÄùÔºåÁî®ÊñáË®ÄÊñáÊµìÁº©„ÄÇ", res: "ÔºàÂêéÊûúÔºöÊñáË®ÄÊñáËØûÁîüÔºåÊÉÖÊä•‰º†ËææÔºÅÔºâ" }], interact: "„Äê‰∫íÂä®‰ªªÂä°„ÄëËØ¥ÔºöÊåëÊàò 3 ‰∏™ËØçÁøªËØëÊÄ•Êä•„ÄÇ" },
                    { loc: "üìç Á¨¨ÂõõÁ´ôÔºöÊ∞ëÂõΩ¬∑Ë°óÂ§¥ËÆ≤Âùõ", scene: "‰Ω†Âú®Ë°óÂ§¥ÊºîËÆ≤ÔºåË¶ÅËÆ©‰∏çËØÜÂ≠óÁöÑÂçñÊä•Â∞èÂì•Âê¨ÊáÇ‰ªÄ‰πàÊòØ‚ÄúÊ∞ë‰∏ª‚Äù„ÄÇ", options: [{ t: "ÈÄâÈ°π AÔºöÂ§´ÊñáÂ≠óËÄÖÔºåÊñáÊòé‰πãÊØç...", res: "ÔºàÂêéÊûúÔºö ÂçñÊä•Â∞èÂì•Êå†Êå†Â§¥Ëµ∞ÂºÄ‰∫Ü„ÄÇÂî§ÈÜíÂ§±Ë¥•ÔºÅÔºâ" }, { t: "ÈÄâÈ°π BÔºöÂêÑ‰ΩçÂÖÑÂºüÔºÅÊàë‰ª¨Ë¶ÅËØ¥Ëá™Â∑±ÁöÑËØùÔºÅ", res: "ÔºàÂêéÊûúÔºö ÂÖ®Âú∫Ê¨¢ÂëºÔºåËøêÂä®ÁÇπÁáÉÔºÅÔºâ" }], interact: "" },
                    { loc: "üìç Á¨¨‰∫îÁ´ôÔºöÁé∞‰ª£¬∑Êï∞Â≠óËçíÂéü", scene: "2050 Âπ¥„ÄÇÊ±âÂ≠óÈù¢‰∏¥‰ø°ÊÅØÁàÜÁÇ∏„ÄÇ‰Ω†ÁöÑ‰ªªÂä°ÊòØÁ°Æ‰øùÊ±âÂ≠óÂú®Êú™Êù•ÁöÑÁîüÂëΩÂäõ„ÄÇ", options: [{ t: "ÈÄâÈ°π AÔºö‰øùÊåÅÂéüÂßãÂΩ¢ÊÄÅÔºåÊãíÁªùÁÆÄÂåñ„ÄÇ", res: "ÔºàÂêéÊûúÔºö Ê±âÂ≠óÊàê‰∏∫Â∞è‰ºó‚ÄúÂçöÁâ©È¶ÜÊñáÂ≠ó‚Äù„ÄÇÔºâ" }, { t: "ÈÄâÈ°π BÔºöÂê∏Êî∂ÂàõÊÑèÔºåËûçÂêàÊï∞Â≠óÁ¨¶Âè∑„ÄÇ", res: "ÔºàÂêéÊûúÔºö Ê±âÂ≠óÊàê‰∏∫ÊòüÈôÖÊµÅË°åÁöÑÊúÄÂº∫ËØ≠Ë®ÄÔºÅÔºâ" }], interact: "" }
                ]
            },
            en: {
                intro: "Core Logic: Character evolution is the synergy of Phonological, Lexical, Grammatical, Writing, and Pragmatic systems.",
                summary: "Summary: The history of Chinese characters is a constant reorganization of five systems shaping cultural expression.",
                corridorTitle: "The energy of characters is fading. Reclaim the flame of civilization.",
                canvasTask: "Future Challenge: How would you add a stroke to '‰πê' (Music/Joy) to represent the digital future?",
                stages: [
                    {
                        name: "Phase 1: Oracle Bone Script",
                        time: "Shang Dynasty",
                        node: "üï∞Ô∏è Divination Era | Earliest systematic writing",
                        systems: { "1Ô∏è‚É£ Phonological": "Not recorded systematically; symbols record meaning.", "2Ô∏è‚É£ Lexical": "Focused on royalty, ritual, and war.", "3Ô∏è‚É£ Grammatical": "Highly minimalist; context-dependent.", "4Ô∏è‚É£ Writing": "Pictographic; engraved on bones.", "5Ô∏è‚É£ Pragmatic": "Exclusive to royal and religious rituals." },
                        deep: "01. Oracle Bone Script: Divination Engraved on Bone\nPeriod: Shang Dynasty (c. 1600 BCE ‚Äì 1046 BCE)\nMaterials: Turtle plastrons and Ox scapulae.\nPrinciples: Based on pictographs and simple ideographs.\nTechnique: Carved with knives. Straight and angular strokes."
                    },
                    {
                        name: "Phase 2: Bronze Inscriptions",
                        time: "Western Zhou",
                        node: "üï∞Ô∏è Ritual Vessels | From 'Divine' to 'Human' matters",
                        systems: { "1Ô∏è‚É£ Phonological": "Phono-semantic characters appear; stability increase.", "2Ô∏è‚É£ Lexical": "New terms for law, politics, and ethics.", "3Ô∏è‚É£ Grammatical": "Complex sentences and rhetoric appear.", "4Ô∏è‚É£ Writing": "Bronze medium; rounded and thick lines.", "5Ô∏è‚É£ Pragmatic": "Tool for social order and merit records." },
                        deep: "02. Bronze Inscriptions: Ritual and Authority\nPeriod: Western Zhou Dynasty (c. 1046 BCE ‚Äì 771 BCE)\nMedia: Ritual vessels like ding and gui.\nTechnique: Piece-Mold Casting. Produced thicker, rounded strokes.\nFunction: Commemorate merit and praise virtue."
                    },
                    {
                        name: "Phase 3: Classical Chinese",
                        time: "Qin/Han - Qing",
                        node: "üï∞Ô∏è Unified Script | Long-term stability period",
                        systems: { "1Ô∏è‚É£ Phonological": "Phonological change vs. script stability.", "2Ô∏è‚É£ Lexical": "Highly concise; polysemous vocabulary.", "3Ô∏è‚É£ Grammatical": "Parataxis-based; heavy reliance on context.", "4Ô∏è‚É£ Writing": "Seal to Clerical to Regular script.", "5Ô∏è‚É£ Pragmatic": "Exclusive code for politics and academia." },
                        deep: "03. Classical Chinese: The Art of Compression\nMedia: Bamboo slips, wooden tablets, and silk.\nClericalization: Characters shifted to stroke-based abstract symbols.\nFeatures: Predominantly monosyllabic words; compressed syntax."
                    },
                    {
                        name: "Phase 4: Vernacular Chinese",
                        time: "20th Century",
                        node: "üï∞Ô∏è New Culture Movement | Speech/Writing Unity",
                        systems: { "1Ô∏è‚É£ Phonological": "Writing matches actual spoken language.", "2Ô∏è‚É£ Lexical": "Scientific and democratic terms emerge.", "3Ô∏è‚É£ Grammatical": "Subject-predicate structure matures.", "4Ô∏è‚É£ Writing": "Punctuation system established.", "5Ô∏è‚É£ Pragmatic": "Language democratization for the masses." },
                        deep: "04. Vernacular Literature: Writing Toward Speech\nTransition: Developed alongside Classical Chinese. Printing helped diffusion.\nSignificance: Challenged elite code; shared cultural medium."
                    },
                    {
                        name: "Phase 5: Modern Chinese",
                        time: "Present Day",
                        node: "üï∞Ô∏è Simplified Script | Digital Media Era",
                        systems: { "1Ô∏è‚É£ Phonological": "Standardization of Mandarin and Pinyin.", "2Ô∏è‚É£ Lexical": "Rapid expansion of tech and internet slang.", "3Ô∏è‚É£ Grammatical": "High stability; written/spoken fusion.", "4Ô∏è‚É£ Writing": "Simplified script and digital input.", "5Ô∏è‚É£ Pragmatic": "Global communication and diverse usage." },
                        deep: "05. Modern Chinese: Mass Communication\nDigital Transformation: Full transition to online platforms.\nIdeology: A shared resource accessible to the entire population."
                    }
                ],
                game: [
                    { loc: "üìç Station 1: Shang Chamber", scene: "Record a storm on bone, but the knife is dull!", options: [{ t: "Option A: Draw elaborate picture.", res: "(Failed: Time out!)" }, { t: "Option B: Use simple lines.", res: "(Success: Efficiency doubled!)" }], interact: "[Task] Trace a simple 'Rain' on your palm." },
                    { loc: "üìç Station 2: Western Zhou", scene: "Cast your name on a vessel before the metal sets!", options: [{ t: "Option A: Write it thin and sharp.", res: "(Failed: Metal won't flow!)" }, { t: "Option B: Write it thick and rounded.", res: "(Success: Bronze script born!)" }], interact: "[Task] Shout: 'Yi Yan Jiu Ding'!" },
                    { loc: "üìç Station 3: Bamboo Slips", scene: "Report an emergency with limited space!", options: [{ t: "Option A: Write the full long report.", res: "(Failed: Slip broke!)" }, { t: "Option B: Use Minimalist mode.", res: "(Success: Report sent!)" }], interact: "[Challenge] 3 words? ." },
                    { loc: "üìç Station 4: Street Stand", scene: "Explain democracy to a paperboy!", options: [{ t: "Option A: [Archaic] Civilized mother...", res: "(Failed: He walks away.)" }, { t: "Option B: [Vernacular] Fellow brothers!", res: "(Success: Movement starts!)" }], interact: "" },
                    { loc: "üìç Station 5: Digital Future", scene: "2050. Ensure the survival of characters.", options: [{ t: "Option A: [Traditional] No changes allowed.", res: "(Failed: Becomes a museum language.)" }, { t: "Option B: [Evolution] Embrace digital symbols.", res: "(Success: Interstellar popularity!)" }], interact: "" }
                ]
            }
        };

        let lang = 'zh';

        function switchPage(pageId) {
            document.querySelectorAll('section').forEach(s => s.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            if(pageId === 'canvas-page') initCanvas();
        }

        function toggleLanguage() {
            lang = lang === 'zh' ? 'en' : 'zh';
            renderAll();
        }

        function renderAll() {
            const d = DATA[lang];
            document.getElementById('main-intro').innerText = d.intro;
            document.getElementById('final-summary').innerText = d.summary;
            
            let timelineHtml = '';
            d.stages.forEach((s, idx) => {
                let systemHtml = '';
                for(let key in s.systems) {
                    systemHtml += `
                        <div class="system-dropdown">
                            <div class="system-label" onclick="toggleSystem(this)">${key} <span>+</span></div>
                            <div class="system-content">${s.systems[key]}</div>
                        </div>
                    `;
                }

                // Ê†∏ÂøÉ‰øÆÊîπÁÇπÔºö
                // 1. Âú®ËßÜÈ¢ëË∑ØÂæÑÂêéÊ∑ªÂä† #t=0.001 ‰ª•Ëé∑ÂèñÁ¨¨‰∏ÄÂ∏ß„ÄÇ
                // 2. ÁßªÈô§ poster Â±ûÊÄßÔºåÂà©Áî®ÊµèËßàÂô®È¶ñÂ∏ßÊ∏≤Êüì„ÄÇ
                // 3. Ê∑ªÂä† preload="metadata" Á°Æ‰øùÂä†ËΩΩË∑ØÂæÑ„ÄÇ
                const mediaHtml = `
                    <div class="media-area">
                        <div class="media-item">
                            <img src="${mediaAssets[idx].img}" alt="${s.name}" onerror="this.src='https://via.placeholder.com/400x225?text=Img+Missing'">
                        </div>
                        <div class="media-item">
                            <video controls preload="metadata" playsinline>
                                <source src="${mediaAssets[idx].vid}" type="video/mp4">
                                ÊÇ®ÁöÑÊµèËßàÂô®‰∏çÊîØÊåÅËßÜÈ¢ëÊí≠Êîæ„ÄÇ
                            </video>
                        </div>
                    </div>
                `;

                timelineHtml += `
                    <div class="stage-node">
                        <h2 style="color:var(--gold)">${s.name}</h2>
                        <p><strong>${s.time}</strong></p>
                        <p>${s.node}</p>
                        ${mediaHtml}
                        <div class="systems-wrap">${systemHtml}</div>
                        <button class="deep-dive-btn" onclick="toggleDeep(this)">
                            ${lang==='zh'?'Ê∑±Â∫¶ËØ¥Êòé':'Deep Dive'}
                        </button>
                        <div class="deep-dive-content">${s.deep}</div>
                    </div>
                `;
            });
            document.getElementById('timeline-list').innerHTML = timelineHtml;
            document.getElementById('corridor-title').innerText = d.corridorTitle;
            renderGame(0);
            document.getElementById('canvas-task').innerText = d.canvasTask;
        }

        function toggleSystem(el) {
            const content = el.nextElementSibling;
            content.style.display = content.style.display === 'block' ? 'none' : 'block';
            el.querySelector('span').innerText = content.style.display === 'block' ? '-' : '+';
        }

        function toggleDeep(btn) {
            const content = btn.nextElementSibling;
            content.style.display = content.style.display === 'block' ? 'none' : 'block';
        }

        function renderGame(step) {
            const g = DATA[lang].game[step];
            if(!g) return;
            let html = `
                <h3 style="color:var(--gold); font-size: 1.5rem;">${g.loc}</h3>
                <p><strong>${g.scene}</strong></p>
                <div class="choice-list">
                    ${g.options.map((o, i) => `<button class="choice-btn" onclick="showGameRes(${step}, ${i})">${o.t}</button>`).join('')}
                </div>
                <div id="res-${step}" class="result-panel"></div>
                ${step < 4 ? `<button id="next-btn" style="display:none; margin-top:20px; padding:12px 25px; cursor:pointer; font-size:1rem;" onclick="renderGame(${step+1})">${lang==='zh'?'ÂâçÂæÄ‰∏ã‰∏ÄÁ´ô':'Next Station'}</button>` : ''}
            `;
            document.getElementById('game-content').innerHTML = html;
        }

        function showGameRes(step, choice) {
            const res = DATA[lang].game[step].options[choice].res;
            const interact = DATA[lang].game[step].interact;
            const panel = document.getElementById(`res-${step}`);
            panel.innerHTML = `<strong>${res}</strong><br><br><span style="color:#555">${interact}</span>`;
            panel.style.display = 'block';
            const nextBtn = document.getElementById('next-btn');
            if(nextBtn) nextBtn.style.display = 'inline-block';
        }

        let canvas, ctx, isDrawing = false;
        function initCanvas() {
            canvas = document.getElementById('board');
            ctx = canvas.getContext('2d');
            ctx.lineWidth = 5; ctx.lineCap = 'round'; ctx.strokeStyle = '#1a1a1a';
            canvas.addEventListener('mousedown', start);
            canvas.addEventListener('mousemove', draw);
            canvas.addEventListener('mouseup', stop);
            canvas.addEventListener('touchstart', (e) => { start(e.touches[0]); e.preventDefault(); });
            canvas.addEventListener('touchmove', (e) => { draw(e.touches[0]); e.preventDefault(); });
            canvas.addEventListener('touchend', stop);
        }
        function start(e) { isDrawing = true; draw(e); }
        function stop() { isDrawing = false; ctx.beginPath(); }
        function draw(e) {
            if(!isDrawing) return;
            const rect = canvas.getBoundingClientRect();
            ctx.lineTo(e.clientX - rect.left, e.clientY - rect.top);
            ctx.stroke(); ctx.beginPath(); ctx.moveTo(e.clientX - rect.left, e.clientY - rect.top);
        }
        function clearCanvas() { ctx.clearRect(0, 0, canvas.width, canvas.height); }

        renderAll();
    </script>
</body>

</html>




