<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸­å›½æ±‰å­—æ¼”å˜å² - Five Systems of Chinese Character Evolution</title>
    <style>
        :root {
            --ink: #1a1a1a;
            --river: #f0f7ff;
            --gold: #b2945b;
            --paper: #fdfcf8;
            --accent: #e67e22;
        }

        body, html {
            margin: 0; padding: 0;
            font-size: 18px; 
            font-family: "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", serif;
            background-color: var(--paper);
            color: var(--ink);
            line-height: 1.8;
        }

        /* å¯¼èˆªä¸è¯­è¨€åˆ‡æ¢ */
        nav {
            position: fixed; top: 0; width: 100%;
            background: rgba(255, 255, 255, 0.95);
            display: flex; justify-content: center; gap: 30px;
            padding: 20px 0; z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        nav a {
            text-decoration: none; color: var(--ink); font-weight: bold;
            font-size: 1.1rem;
            transition: color 0.3s; cursor: pointer;
        }

        nav a:hover { color: var(--gold); }

        .lang-toggle {
            position: fixed; top: 15px; right: 20px; z-index: 1001;
            padding: 8px 18px; border: 2px solid var(--gold);
            font-size: 1rem;
            background: transparent; cursor: pointer; border-radius: 4px;
        }

        /* é¡µé¢ç»“æ„ */
        section { 
            display: none; padding: 120px 20px 80px; 
            max-width: 1100px; margin: 0 auto; 
        }
        section.active { display: block; animation: fadeIn 0.5s; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* æ—¶é—´çº¿æ ·å¼ */
        .intro-box {
            background: #fff; border: 1px solid var(--gold);
            padding: 30px; margin-bottom: 40px; border-radius: 8px;
            font-size: 1.2rem;
        }

        .river-line {
            position: relative; border-left: 3px solid var(--gold);
            padding-left: 40px; margin-left: 20px;
        }

        .stage-node {
            position: relative; background: white;
            padding: 40px; margin-bottom: 70px;
            border-radius: 12px; box-shadow: 0 5px 20px rgba(0,0,0,0.05);
        }

        .stage-node h2 {
            font-size: 2rem;
            margin-top: 0;
        }

        .stage-node::before {
            content: ''; position: absolute; left: -49px; top: 40px;
            width: 18px; height: 18px; background: var(--gold); border-radius: 50%;
        }

        .media-area {
            display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 25px 0;
        }

        .media-item {
            aspect-ratio: 16/9; background: #000; border: 1px solid #ddd;
            display: flex; align-items: center; justify-content: center; 
            overflow: hidden; border-radius: 6px;
        }

        .media-item img, .media-item video {
            width: 100%; height: 100%; object-fit: cover;
        }

        .system-dropdown {
            border: 1px solid #eee; margin-bottom: 12px; border-radius: 5px;
        }

        .system-label {
            background: #f8f9fa; padding: 15px 20px; cursor: pointer;
            font-weight: bold; font-size: 1.1rem; display: flex; justify-content: space-between;
        }

        .system-content {
            display: none; padding: 20px; background: #fff; border-top: 1px solid #eee;
            font-size: 1.05rem;
        }

        .deep-dive-btn {
            background: var(--ink); color: white; padding: 12px 25px;
            border: none; cursor: pointer; margin-top: 20px; border-radius: 4px;
            font-size: 1rem;
        }

        .deep-dive-content {
            display: none; margin-top: 20px; padding: 30px;
            background: #fdf5e6; border-left: 6px solid var(--gold); white-space: pre-line;
            font-size: 1.1rem; color: #333;
        }

        /* æ—¶ç©ºé•¿å»Šæ ·å¼ */
        .corridor-container { max-width: 900px; margin: 0 auto; }
        .game-card { background: white; padding: 50px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .game-card p { font-size: 1.2rem; }
        .choice-list { margin-top: 35px; }
        .choice-btn {
            display: block; width: 100%; padding: 22px; margin-bottom: 20px;
            border: 2px solid var(--gold); background: none; cursor: pointer;
            text-align: left; font-size: 1.1rem; border-radius: 8px; transition: 0.3s;
        }
        .choice-btn:hover { background: var(--gold); color: white; }
        .result-panel {
            display: none; margin-top: 30px; padding: 30px;
            background: #e8f5e9; border-radius: 10px; border-left: 6px solid #2e7d32;
            font-size: 1.15rem;
        }

        /* ç”»æ¿æ ·å¼ */
        .canvas-container { text-align: center; }
        #board {
            background: #fff; border: 4px solid var(--ink);
            cursor: crosshair; touch-action: none;
            background-image: radial-gradient(#eee 1px, transparent 1px);
            background-size: 25px 25px;
        }
        .canvas-tools { margin-top: 30px; display: flex; justify-content: center; gap: 30px; }
        .btn-clear { background: #d32f2f; color: white; border: none; padding: 15px 40px; cursor: pointer; border-radius: 5px; font-size: 1.1rem; }

        .summary-box {
            background: var(--ink); color: white; padding: 40px;
            margin-top: 60px; border-radius: 8px; text-align: center;
            font-size: 1.25rem;
        }
    </style>
</head>
<body>

    <button class="lang-toggle" onclick="toggleLanguage()">English / ä¸­æ–‡</button>

    <nav>
        <a onclick="switchPage('timeline')">æ—¶é—´çº¿ | Timeline</a>
        <a onclick="switchPage('corridor')">æ—¶ç©ºé•¿å»Š | Corridor</a>
        <a onclick="switchPage('canvas-page')">ç”»æ¿äº’åŠ¨ | Board</a>
    </nav>

    <section id="timeline" class="active">
        <div class="intro-box" id="main-intro"></div>
        <div class="river-line" id="timeline-list"></div>
        <div class="summary-box" id="final-summary"></div>
    </section>

    <section id="corridor">
        <div class="corridor-container">
            <h2 id="corridor-title" style="text-align: center; color: var(--accent); font-size: 2.2rem;"></h2>
            <div id="game-content" class="game-card"></div>
        </div>
    </section>

    <section id="canvas-page">
        <div class="canvas-container">
            <div class="intro-box" id="canvas-task"></div>
            <div style="position: relative; display: inline-block;">
                <canvas id="board" width="850" height="550"></canvas>
                <div id="canvas-bg-text" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 240px; color: #f2f2f2; pointer-events: none; z-index: 0; user-select: none;">ä¹</div>
            </div>
            <div class="canvas-tools">
                <button class="btn-clear" onclick="clearCanvas()">æ¸…ç©ºç”»æ¿ | Clear Board</button>
            </div>
        </div>
    </section>

    <script>
        const mediaAssets = [
            { img: "https://q1.itc.cn/q_70/images03/20240925/c743164515fc44159ea8bd1164568bff.jpeg", vid: "h4/video/oracl.mp4" },
            { img: "https://p9.itc.cn/images01/20210507/a8eb1cf5fd6945c6a2c39161d6c6c35f.jpeg", vid: "h4/video/jw.mp4" },
            { img: "https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimage109.360doc.com%2FDownloadImg%2F2023%2F11%2F1418%2F275334642_9_20231114064759993.jpeg&refer=http%3A%2F%2Fimage109.360doc.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1770741343&t=fd4315b142443807c49f42ea124c5155", vid: "h4/video/wyw.mp4" },
            { img: "https://zhuanti.mct.gov.cn/Uploads/Picture/2022/09/21/u632ab969a3373.jpg", vid: "h4/video/bhw.mp4" },
            { img: "https://img2.baidu.com/it/u=1136296859,4135464294&fm=253&app=138&f=JPEG?w=500&h=707", vid: "h4/video/xdhz.mp4" }
        ];

        const DATA = {
            zh: {
                intro: "ä¸»çº¿é€»è¾‘ï¼šæ±‰å­—çš„å‘å±•ä¸æ˜¯å•ä¸€â€œå­—ä½“å˜åŒ–â€ï¼Œè€Œæ˜¯è¯­éŸ³ç³»ç»Ÿã€è¯æ±‡ç³»ç»Ÿã€è¯­æ³•ç³»ç»Ÿã€ä¹¦å†™ç³»ç»Ÿã€è¯­ç”¨ç³»ç»Ÿ äº”å¤§ç³»ç»ŸååŒæ¼”è¿›çš„ç»“æœã€‚",
                summary: "æ—¶é—´çº¿æ€»ç»“ï¼šä¸­å›½æ±‰å­—çš„å‘å±•å²ï¼Œæ˜¯è¯­éŸ³ã€è¯æ±‡ã€è¯­æ³•ã€ä¹¦å†™ä¸è¯­ç”¨äº”å¤§ç³»ç»Ÿä¸æ–­é‡ç»„ä¸å†å¹³è¡¡çš„å†å²ã€‚æ±‰å­—ä¸ä»…è®°å½•è¯­è¨€ï¼Œä¹Ÿå¡‘é€ äº†ä¸­å›½æ–‡åŒ–çš„è¡¨è¾¾æ–¹å¼ã€‚",
                corridorTitle: "æ±‰å­—èƒ½é‡æ­£åœ¨æµå¤±ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡äº”ä¸ªæ—¶ç©ºèŠ‚ç‚¹çš„è€ƒéªŒï¼Œæ‰èƒ½å¸¦å›å®Œæ•´çš„æ–‡æ˜ç«ç§ã€‚",
                canvasTask: "â€œæœªæ¥é€ å­—æŒ‘æˆ˜â€ä»»åŠ¡ï¼šå±å¹•ä¸Šå±•ç¤ºä¸€ä¸ªåŸºç¡€æ±‰å­—â€œä¹â€ã€‚å¦‚æœæœªæ¥æœ‰ä¸€ä¸ªå­—èƒ½åŒæ—¶è¡¨è¾¾â€˜å¿«ä¹â€™ã€â€˜éŸ³ä¹â€™å’Œâ€˜ç”µå­â€™ï¼Œä½ ä¼šæ€ä¹ˆç»™å®ƒåŠ ä¸€ç¬”ï¼Ÿ",
                stages: [
                    {
                        name: "ç¬¬ä¸€é˜¶æ®µï½œç”²éª¨æ–‡ (Oracle Bone Script)",
                        time: "å•†ä»£ï¼Œçº¦å…¬å…ƒå‰14ä¸–çºª",
                        node: "ğŸ•°ï¸ å•†ç‹æœå åœä¸ç¥­ç¥€æ—¶æœŸ | æ±‰å­—æœ€æ—©æˆä½“ç³»çš„ä¹¦å†™å½¢æ€",
                        systems: {
                            "1ï¸âƒ£ è¯­éŸ³ç³»ç»Ÿ": "è¯­éŸ³å°šæœªè¢«ç³»ç»Ÿè®°å½•ï¼›æ±‰å­—ä¸»è¦è®°å½•æ„ä¹‰è€Œéç²¾ç¡®è¯­éŸ³ï¼›åŒå­—å¯å¯¹åº”ä¸åŒè¯»éŸ³ã€‚",
                            "2ï¸âƒ£ è¯æ±‡ç³»ç»Ÿ": "è¯æ±‡é«˜åº¦é›†ä¸­äºï¼šç‹æƒã€ç¥­ç¥€ã€å¤©è±¡ã€æˆ˜äº‰ã€å†œäº‹ã€‚å¤šä¸ºå•éŸ³èŠ‚è¯ã€‚",
                            "3ï¸âƒ£ è¯­æ³•ç³»ç»Ÿ": "è¯­æ³•é«˜åº¦ç®€çº¦ï¼›å¼ºçƒˆä¾èµ–è¯­å¢ƒç†è§£ï¼›è¯­åºåˆæ­¥å›ºå®šï¼Œä½†ä»è¾ƒçµæ´»ã€‚",
                            "4ï¸âƒ£ ä¹¦å†™ç³»ç»Ÿ": "ä»¥è±¡å½¢ã€æŒ‡äº‹ä¸ºä¸»ï¼›åˆ»å†™äºé¾Ÿç”²ã€å…½éª¨ï¼›æ˜¯ä»â€œç”»â€èµ°å‘â€œå­—â€çš„å…³é”®é˜¶æ®µã€‚",
                            "5ï¸âƒ£ è¯­ç”¨ç³»ç»Ÿ": "åªæœåŠ¡äºç‹æƒä¸å®—æ•™ï¼›éæ—¥å¸¸äº¤æµå·¥å…·ï¼›å…·æœ‰å¼ºçƒˆçš„ç¥åœ£æ€§ä¸ä»ªå¼æ€§ã€‚"
                        },
                        deep: "ã€ç”²éª¨æ–‡ï¼šåˆ»åœ¨éª¨å¤´ä¸Šçš„å åœæ–‡å­—ã€‘\næ—¶æœŸï¼šå•†æœï¼ˆçº¦å…¬å…ƒå‰1600å¹´ â€“ å…¬å…ƒå‰1046å¹´ï¼‰\nä¹¦å†™åª’ä»‹ï¼šé¾Ÿè…¹ç”²ã€ç‰›è‚©èƒ›éª¨\né€ å­—åŸç†ï¼šä¸»è¦åŸºäºè±¡å½¢å’ŒæŒ‡äº‹ã€‚å®ƒæ˜¯æ±‰å­—ç³»ç»Ÿçš„â€œåŸå‹åº“â€ï¼šæ–‡å­—å°šæœªæ ‡å‡†åŒ–ï¼Œå­˜åœ¨å¤§é‡çš„å¼‚ä½“å­—ã€‚\nåˆ»å†™æŠ€æœ¯ï¼šä½¿ç”¨é’é“œæˆ–ç‰åˆ¶åˆ»åˆ€åˆ»å†™ã€‚éª¨å¤´çš„ç¡¬åº¦ä½¿å¾—ç¬”ç”»å‘ˆç°å‡ºå¹³ç›´ã€å°–é”çš„é£æ ¼ã€‚"
                    },
                    {
                        name: "ç¬¬äºŒé˜¶æ®µï½œé‡‘æ–‡ (Bronze Inscriptions)",
                        time: "è¥¿å‘¨â€”æ˜¥ç§‹æˆ˜å›½",
                        node: "ğŸ•°ï¸ é’é“œå™¨é“­æ–‡å¹¿æ³›å‡ºç° | æ–‡å­—ä»â€œç¥äº‹â€èµ°å‘â€œäººäº‹â€",
                        systems: {
                            "1ï¸âƒ£ è¯­éŸ³ç³»ç»Ÿ": "å½¢å£°å­—å¼€å§‹å¤§é‡å‡ºç°ï¼›é€šè¿‡å­—å½¢é—´æ¥æ ‡æ³¨è¯»éŸ³ï¼›éŸ³ä¹‰å…³ç³»è¶‹äºç¨³å®šã€‚",
                            "2ï¸âƒ£ è¯æ±‡ç³»ç»Ÿ": "æ–°å¢å¤§é‡æ³•å¾‹ã€ç¤¼åˆ¶ã€æ”¿æ²»ä¼¦ç†è¯æ±‡ï¼›æŠ½è±¡æ¦‚å¿µæ˜¾è‘—å¢åŠ ã€‚",
                            "3ï¸âƒ£ è¯­æ³•ç³»ç»Ÿ": "å¥å¼è¶‹äºå¤æ‚ï¼›ä¿®è¾ä¸å¯¹å¶å¼€å§‹å‡ºç°ã€‚",
                            "4ï¸âƒ£ ä¹¦å†™ç³»ç»Ÿ": "åª’ä»‹è½¬ä¸ºé’é“œå™¨ï¼›å­—å½¢æ›´åŠ è§„èŒƒï¼Œçº¿æ¡åœ†æ¶¦ï¼›åˆæ­¥å½¢æˆä¹¦å†™ä¼ ç»Ÿã€‚",
                            "5ï¸âƒ£ è¯­ç”¨ç³»ç»Ÿ": "ç”¨äºè®°åŠŸã€è®­è¯«ã€åˆ¶åº¦ç¡®è®¤ï¼›è¯­è¨€æˆä¸ºç¤¾ä¼šç§©åºå·¥å…·ã€‚"
                        },
                        deep: "ã€é‡‘æ–‡ï¼šé“¸åˆ»åœ¨é’é“œå™¨ä¸Šçš„ç¤¼åˆ¶ä¸æƒå¨ã€‘\næ—¶æœŸï¼šè¥¿å‘¨ï¼ˆçº¦å…¬å…ƒå‰1046å¹´ â€“ å…¬å…ƒå‰771å¹´ï¼‰\nä¹¦å†™åª’ä»‹ï¼šé’é“œç¤¼å™¨ï¼Œå¦‚é¼ã€ç°‹ã€é’Ÿç­‰ã€‚\næŠ€æœ¯å˜é©ï¼šèŒƒé“¸æ³•ã€‚åœ¨é“¸é€ å‰å°†æ–‡å­—åˆ»åœ¨é™¶èŒƒä¸Šï¼Œäº§ç”Ÿçš„ç¬”ç”»æ›´åŠ åšé‡ä¸”åœ†æ¶¦ã€‚\nç¤¾ä¼šåŠŸèƒ½ï¼šç”¨äºâ€œé“­åŠŸé¢‚å¾·â€ï¼Œè®°å½•å†Œå‘½ã€èµèµã€ç¥­ç¥€å’Œæˆ˜äº‰æˆå°±ã€‚"
                    },
                    {
                        name: "ç¬¬ä¸‰é˜¶æ®µï½œæ–‡è¨€æ–‡ (Classical Chinese)",
                        time: "ç§¦æ±‰â€”æ¸…æœ«",
                        node: "ğŸ•°ï¸ ç§¦ç»Ÿä¸€æ–‡å­— | æ±‰å­—è¿›å…¥é•¿æœŸç¨³å®šæœŸ",
                        systems: {
                            "1ï¸âƒ£ è¯­éŸ³ç³»ç»Ÿ": "è¯­éŸ³æŒç»­å˜åŒ–ï¼ˆå¤éŸ³ â†’ ä¸­å¤éŸ³ï¼‰ï¼›ä¹¦å†™ç³»ç»Ÿä¿æŒç¨³å®šï¼›å‡ºç°å­—éŸ³åˆ†ç¦»ã€‚",
                            "2ï¸âƒ£ è¯æ±‡ç³»ç»Ÿ": "è¯æ±‡é«˜åº¦é«˜åº¦å‡ç»ƒï¼›ä¸€å­—å¤šä¹‰æ™®éï¼›å¤§é‡ä¹¦é¢ä¸“ç”¨è¯ã€‚",
                            "3ï¸âƒ£ è¯­æ³•ç³»ç»Ÿ": "ä»¥æ„åˆä¸ºä¸»ï¼›å¤§é‡çœç•¥ï¼›å¼ºä¾èµ–è¯»è€…æ–‡åŒ–èƒŒæ™¯ã€‚",
                            "4ï¸âƒ£ ä¹¦å†™ç³»ç»Ÿ": "å°ç¯† â†’ éš¶ä¹¦ â†’ æ¥·ä¹¦ï¼›æˆä¸ºä¸œäºšæ–‡åŒ–åœˆå…±é€šä¹¦å†™ç³»ç»Ÿã€‚",
                            "5ï¸âƒ£ è¯­ç”¨ç³»ç»Ÿ": "ä¸¥æ ¼çš„ä¹¦é¢ç²¾è‹±è¯­è¨€ï¼›ç”¨äºæ”¿æ²»ã€å­¦æœ¯ã€æ–‡å­¦ï¼›ä¸å£è¯­ä¸¥é‡è„±èŠ‚ã€‚"
                        },
                        deep: "ã€ç®€å¸›æ–‡è¨€æ–‡ï¼šæè‡´å‹ç¼©çš„è¯­è¨€è‰ºæœ¯ã€‘\nä¹¦å†™åª’ä»‹ï¼šç«¹ç®€ã€æœ¨ç‰ã€ç¼£å¸›ã€‚\næ–‡å­—æ¼”å˜ï¼šéš¶å˜ã€‚æ±‰å­—ä»è±¡å½¢å›¾ç”»å½¢æ€è½¬å‘ä»¥ç¬”ç”»ä¸ºåŸºç¡€çš„ç¬¦å·ï¼Œå¤§å¹…æå‡äº†ä¹¦å†™æ•ˆç‡ã€‚\nè¯­è¨€ç‰¹å¾ï¼šä»¥å•éŸ³èŠ‚è¯ä¸ºä¸»ï¼›è¯­æ³•é«˜åº¦å‹ç¼©ï¼Œä¾èµ–æ„åˆã€‚"
                    },
                    {
                        name: "ç¬¬å››é˜¶æ®µï½œç™½è¯æ–‡ (Vernacular Chinese)",
                        time: "20ä¸–çºªåˆ Â· æ–°æ–‡åŒ–è¿åŠ¨",
                        node: "ğŸ•°ï¸ äº”å››è¿åŠ¨ | â€œè¨€æ–‡ä¸€è‡´â€",
                        systems: {
                            "1ï¸âƒ£ è¯­éŸ³ç³»ç»Ÿ": "ä¹¦å†™è´´è¿‘å®é™…å£è¯­ï¼›ä»¥åŒ—æ–¹è¯ä¸ºåŸºç¡€ã€‚",
                            "2ï¸âƒ£ è¯æ±‡ç³»ç»Ÿ": "æ–°è¯å¤§é‡å‡ºç°ï¼šç§‘å­¦ã€æ°‘ä¸»ã€ç¤¾ä¼šï¼›å¤–æ¥è¯ã€å¤åˆè¯å¢åŠ ã€‚",
                            "3ï¸âƒ£ è¯­æ³•ç³»ç»Ÿ": "æ˜ç¡®ä¸»è°“ç»“æ„ï¼›è™šè¯ç³»ç»Ÿæˆç†Ÿã€‚",
                            "4ï¸âƒ£ ä¹¦å†™ç³»ç»Ÿ": "ä»ä½¿ç”¨æ±‰å­—ï¼›æ ‡ç‚¹ç¬¦å·ç³»ç»Ÿç¡®ç«‹ã€‚",
                            "5ï¸âƒ£ è¯­ç”¨ç³»ç»Ÿ": "é¢å‘å¤§ä¼—ï¼›è¯­è¨€åŠŸèƒ½æ°‘ä¸»åŒ–ã€‚"
                        },
                        deep: "ã€ç™½è¯æ–‡å­¦ï¼šæ–‡å­—å›å½’å£è¯­ã€‘\nè½¬å‹æ—¶æœŸï¼šç™½è¯æ–‡åœ¨å¤å…¸æ–‡å­¦èƒŒæ™¯ä¸‹é€æ¸å…´èµ·ã€‚é›•ç‰ˆå°åˆ·å’Œæ´»å­—å°åˆ·åŠ©æ¨äº†å…¶ä¼ æ’­ã€‚\næ ¸å¿ƒæ„ä¹‰ï¼šæŒ‘æˆ˜äº†ç²¾è‹±é˜¶å±‚çš„æ–‡å­—å¯†ç ï¼Œä½¿è¯­è¨€æˆä¸ºå¤§ä¼—å…±äº«çš„æ–‡åŒ–åª’ä»‹ã€‚"
                    },
                    {
                        name: "ç¬¬äº”é˜¶æ®µï½œç°ä»£æ±‰å­— (Modern Chinese)",
                        time: "20ä¸–çºªä¸­åæœŸâ€”è‡³ä»Š",
                        node: "ğŸ•°ï¸ ç®€åŒ–å­—æ¨å¹¿ | æ•°å­—åª’ä»‹æ—¶ä»£",
                        systems: {
                            "1ï¸âƒ£ è¯­éŸ³ç³»ç»Ÿ": "æ™®é€šè¯æ ‡å‡†åŒ–ï¼›æ‹¼éŸ³ç³»ç»Ÿè¾…åŠ©å­¦ä¹ ä¸è¾“å…¥ã€‚",
                            "2ï¸âƒ£ è¯æ±‡ç³»ç»Ÿ": "ç§‘æŠ€è¯æ±‡ã€ç½‘ç»œè¯­è¨€é«˜é€Ÿæ‰©å¼ ï¼›æ–°è¯æ›´æ–°å‘¨æœŸæçŸ­ã€‚",
                            "3ï¸âƒ£ è¯­æ³•ç³»ç»Ÿ": "è¯­æ³•é«˜åº¦ç¨³å®šï¼›ä¹¦é¢è¯­ä¸å£è¯­å†æ¬¡èåˆã€‚",
                            "4ï¸âƒ£ ä¹¦å†™ç³»ç»Ÿ": "ç®€åŒ–å­— + æ•°å­—è¾“å…¥ï¼›ä»â€œä¹¦å†™â€è½¬å‘â€œè¾“å…¥â€ã€‚",
                            "5ï¸âƒ£ è¯­ç”¨ç³»ç»Ÿ": "ä½¿ç”¨åœºæ™¯é«˜åº¦å¤šå…ƒï¼›è¿›å…¥å…¨çƒåŒ–ä¼ æ’­é˜¶æ®µã€‚"
                        },
                        deep: "ã€ç°ä»£æ±‰è¯­ï¼šå¤§ä¼—ä¼ æ’­çš„è¯­è¨€ã€‘\næ—¶æœŸï¼š20ä¸–çºªè‡³ä»Šã€‚\næ•°å­—åŒ–è½¬å‹ï¼šæ–‡å­—å…¨é¢è½¬å‘ç½‘ç»œå¹³å°ä¸ç§»åŠ¨é€šè®¯åª’ä»‹ã€‚\næ ¸å¿ƒç†å¿µï¼šè¯­è¨€ä¸å†æ˜¯èº«ä»½ç­‰çº§çš„æ ‡å¿—ï¼Œè€Œæ˜¯å…¨ä½“æ°‘ä¼—è§¦æ‰‹å¯åŠçš„å…±äº«èµ„æºã€‚"
                    }
                ],
                game: [
                    { loc: "ğŸ“ ç¬¬ä¸€ç«™ï¼šå•†æœÂ·å åœå¯†å®¤", scene: "ç¥­å¸è¦åœ¨é¾Ÿç”²ä¸Šè®°å½•ä¸€åœºå†³å®šç”Ÿæ­»çš„å¤§é›¨ï¼Œä½†åˆ»åˆ€é’äº†ï¼Œæ—¶é—´ç´§è¿«ï¼", options: [{ t: "é€‰é¡¹ Aï¼š åšæŒç”»ä¸€å¹…ç²¾ç¾çš„â€œä¸‹é›¨å›¾â€ã€‚", res: "ï¼ˆåæœï¼šæ—¶é—´è€—å°½ï¼Œè®°å½•å¤±è´¥ï¼ï¼‰" }, { t: "é€‰é¡¹ Bï¼š æ”¾å¼ƒç”»ç”»ï¼Œåªç”¨å‡ æ¡ç®€å•çš„æŠ˜çº¿ä»£è¡¨é›¨ç‚¹ã€‚", res: "ï¼ˆåæœï¼šè§£é”ç”²éª¨æ–‡ï¼Œæ•ˆç‡ç¿»å€ï¼ï¼‰" }], interact: "ã€äº’åŠ¨ä»»åŠ¡ã€‘å†™ï¼šè¯·å…¨åœºè§‚ä¼—ç”¨æ‰‹æŒ‡åœ¨æŒå¿ƒå¿«é€Ÿâ€œåˆ»â€å‡ºä¸€ä¸ªä½ è®¤ä¸ºæœ€ç®€å•çš„â€œé›¨â€å­—ã€‚" },
                    { loc: "ğŸ“ ç¬¬äºŒç«™ï¼šå‘¨æœÂ·é’é“œç¦åŒº", scene: "å›½ç‹è¦æŠŠä½ çš„åå­—é“¸åœ¨åƒæ–¤é‡çš„å®é¼ä¸Šï¼Œä½†é‡‘å±æ¶²å¿«å‡å›ºäº†ã€‚", options: [{ t: "é€‰é¡¹ Aï¼š æŠŠå­—å†™å¾—ç»†é•¿å°–é”ã€‚", res: "ï¼ˆåæœï¼šå­—å¤ªç»†ï¼Œé‡‘å±æµä¸è¿›å»ï¼ï¼‰" }, { t: "é€‰é¡¹ Bï¼š æŠŠå­—å†™å¾—åœ†æ¶¦ã€ç²—å£®ã€ç¨³é‡ã€‚", res: "ï¼ˆåæœï¼šé‡‘æ–‡è¯ç”Ÿï¼Œä¸‡ä¸–æµä¼ ï¼ï¼‰" }], interact: "ã€äº’åŠ¨ä»»åŠ¡ã€‘è¯´ï¼šé€‰ B åï¼Œè¯·å…¨åœºé½å£°å–Šå‡ºè¿™ä¸ªé¼çš„åå­—ï¼šâ€œä¸€è¨€ä¹é¼ï¼â€" },
                    { loc: "ğŸ“ ç¬¬ä¸‰ç«™ï¼šç§¦æ±‰Â·ç«¹ç®€è¿·å®«", scene: "è¾¹å¢ƒæ€¥æŠ¥ï¼ä½ åªæœ‰ä¸€å°å—ç«¹ç®€ï¼Œå´è¦æ±‡æŠ¥ï¼šâ€œæ•Œäººå¾ˆå¤šï¼Œæˆ‘ä»¬æ²¡ç²®é£Ÿäº†ï¼Œå¿«ç‚¹æ´¾å…µæ•‘å‘½ï¼â€", options: [{ t: "é€‰é¡¹ Aï¼š ç…§å®å†™ï¼ŒæŠŠè¿™å‡ åä¸ªå­—å…¨åˆ»ä¸Šå»ã€‚", res: "ï¼ˆåæœï¼šç«¹ç®€åˆ»çˆ†äº†ï¼ŒåŸç ´äº†ï¼ï¼‰" }, { t: "é€‰é¡¹ Bï¼š å¯åŠ¨â€œæç®€æ¨¡å¼â€ï¼Œç”¨æ–‡è¨€æ–‡æµ“ç¼©ã€‚", res: "ï¼ˆåæœï¼šæ–‡è¨€æ–‡è¯ç”Ÿï¼Œæƒ…æŠ¥ä¼ è¾¾ï¼ï¼‰" }], interact: "ã€äº’åŠ¨ä»»åŠ¡ã€‘è¯´ï¼šæŒ‘æˆ˜ 3 ä¸ªè¯ç¿»è¯‘æ€¥æŠ¥ã€‚" },
                    { loc: "ğŸ“ ç¬¬å››ç«™ï¼šæ°‘å›½Â·è¡—å¤´è®²å›", scene: "ä½ åœ¨è¡—å¤´æ¼”è®²ï¼Œè¦è®©ä¸è¯†å­—çš„å–æŠ¥å°å“¥å¬æ‡‚ä»€ä¹ˆæ˜¯â€œæ°‘ä¸»â€ã€‚", options: [{ t: "é€‰é¡¹ Aï¼šå¤«æ–‡å­—è€…ï¼Œæ–‡æ˜ä¹‹æ¯...", res: "ï¼ˆåæœï¼š å–æŠ¥å°å“¥æŒ æŒ å¤´èµ°å¼€äº†ã€‚å”¤é†’å¤±è´¥ï¼ï¼‰" }, { t: "é€‰é¡¹ Bï¼šå„ä½å…„å¼Ÿï¼æˆ‘ä»¬è¦è¯´è‡ªå·±çš„è¯ï¼", res: "ï¼ˆåæœï¼š å…¨åœºæ¬¢å‘¼ï¼Œè¿åŠ¨ç‚¹ç‡ƒï¼ï¼‰" }], interact: "" },
                    { loc: "ğŸ“ ç¬¬äº”ç«™ï¼šç°ä»£Â·æ•°å­—è’åŸ", scene: "2050 å¹´ã€‚æ±‰å­—é¢ä¸´ä¿¡æ¯çˆ†ç‚¸ã€‚ä½ çš„ä»»åŠ¡æ˜¯ç¡®ä¿æ±‰å­—åœ¨æœªæ¥çš„ç”Ÿå‘½åŠ›ã€‚", options: [{ t: "é€‰é¡¹ Aï¼šä¿æŒåŸå§‹å½¢æ€ï¼Œæ‹’ç»ç®€åŒ–ã€‚", res: "ï¼ˆåæœï¼š æ±‰å­—æˆä¸ºå°ä¼—â€œåšç‰©é¦†æ–‡å­—â€ã€‚ï¼‰" }, { t: "é€‰é¡¹ Bï¼šå¸æ”¶åˆ›æ„ï¼Œèåˆæ•°å­—ç¬¦å·ã€‚", res: "ï¼ˆåæœï¼š æ±‰å­—æˆä¸ºæ˜Ÿé™…æµè¡Œçš„æœ€å¼ºè¯­è¨€ï¼ï¼‰" }], interact: "" }
                ]
            },
            en: {
                intro: "Core Logic: Character evolution is the synergy of Phonological, Lexical, Grammatical, Writing, and Pragmatic systems.",
                summary: "Summary: The history of Chinese characters is a constant reorganization of five systems shaping cultural expression.",
                corridorTitle: "The energy of characters is fading. Reclaim the flame of civilization.",
                canvasTask: "Future Challenge: How would you add a stroke to 'ä¹' (Music/Joy) to represent the digital future?",
                stages: [
                    {
                        name: "Phase 1: Oracle Bone Script",
                        time: "Shang Dynasty",
                        node: "ğŸ•°ï¸ Divination Era | Earliest systematic writing",
                        systems: { "1ï¸âƒ£ Phonological": "Not recorded systematically; symbols record meaning.", "2ï¸âƒ£ Lexical": "Focused on royalty, ritual, and war.", "3ï¸âƒ£ Grammatical": "Highly minimalist; context-dependent.", "4ï¸âƒ£ Writing": "Pictographic; engraved on bones.", "5ï¸âƒ£ Pragmatic": "Exclusive to royal and religious rituals." },
                        deep: "01. Oracle Bone Script: Divination Engraved on Bone\nPeriod: Shang Dynasty (c. 1600 BCE â€“ 1046 BCE)\nMaterials: Turtle plastrons and Ox scapulae.\nPrinciples: Based on pictographs and simple ideographs.\nTechnique: Carved with knives. Straight and angular strokes."
                    },
                    {
                        name: "Phase 2: Bronze Inscriptions",
                        time: "Western Zhou",
                        node: "ğŸ•°ï¸ Ritual Vessels | From 'Divine' to 'Human' matters",
                        systems: { "1ï¸âƒ£ Phonological": "Phono-semantic characters appear; stability increase.", "2ï¸âƒ£ Lexical": "New terms for law, politics, and ethics.", "3ï¸âƒ£ Grammatical": "Complex sentences and rhetoric appear.", "4ï¸âƒ£ Writing": "Bronze medium; rounded and thick lines.", "5ï¸âƒ£ Pragmatic": "Tool for social order and merit records." },
                        deep: "02. Bronze Inscriptions: Ritual and Authority\nPeriod: Western Zhou Dynasty (c. 1046 BCE â€“ 771 BCE)\nMedia: Ritual vessels like ding and gui.\nTechnique: Piece-Mold Casting. Produced thicker, rounded strokes.\nFunction: Commemorate merit and praise virtue."
                    },
                    {
                        name: "Phase 3: Classical Chinese",
                        time: "Qin/Han - Qing",
                        node: "ğŸ•°ï¸ Unified Script | Long-term stability period",
                        systems: { "1ï¸âƒ£ Phonological": "Phonological change vs. script stability.", "2ï¸âƒ£ Lexical": "Highly concise; polysemous vocabulary.", "3ï¸âƒ£ Grammatical": "Parataxis-based; heavy reliance on context.", "4ï¸âƒ£ Writing": "Seal to Clerical to Regular script.", "5ï¸âƒ£ Pragmatic": "Exclusive code for politics and academia." },
                        deep: "03. Classical Chinese: The Art of Compression\nMedia: Bamboo slips, wooden tablets, and silk.\nClericalization: Characters shifted to stroke-based abstract symbols.\nFeatures: Predominantly monosyllabic words; compressed syntax."
                    },
                    {
                        name: "Phase 4: Vernacular Chinese",
                        time: "20th Century",
                        node: "ğŸ•°ï¸ New Culture Movement | Speech/Writing Unity",
                        systems: { "1ï¸âƒ£ Phonological": "Writing matches actual spoken language.", "2ï¸âƒ£ Lexical": "Scientific and democratic terms emerge.", "3ï¸âƒ£ Grammatical": "Subject-predicate structure matures.", "4ï¸âƒ£ Writing": "Punctuation system established.", "5ï¸âƒ£ Pragmatic": "Language democratization for the masses." },
                        deep: "04. Vernacular Literature: Writing Toward Speech\nTransition: Developed alongside Classical Chinese. Printing helped diffusion.\nSignificance: Challenged elite code; shared cultural medium."
                    },
                    {
                        name: "Phase 5: Modern Chinese",
                        time: "Present Day",
                        node: "ğŸ•°ï¸ Simplified Script | Digital Media Era",
                        systems: { "1ï¸âƒ£ Phonological": "Standardization of Mandarin and Pinyin.", "2ï¸âƒ£ Lexical": "Rapid expansion of tech and internet slang.", "3ï¸âƒ£ Grammatical": "High stability; written/spoken fusion.", "4ï¸âƒ£ Writing": "Simplified script and digital input.", "5ï¸âƒ£ Pragmatic": "Global communication and diverse usage." },
                        deep: "05. Modern Chinese: Mass Communication\nDigital Transformation: Full transition to online platforms.\nIdeology: A shared resource accessible to the entire population."
                    }
                ],
                game: [
                    { loc: "ğŸ“ Station 1: Shang Chamber", scene: "Record a storm on bone, but the knife is dull!", options: [{ t: "Option A: Draw elaborate picture.", res: "(Failed: Time out!)" }, { t: "Option B: Use simple lines.", res: "(Success: Efficiency doubled!)" }], interact: "[Task] Trace a simple 'Rain' on your palm." },
                    { loc: "ğŸ“ Station 2: Western Zhou", scene: "Cast your name on a vessel before the metal sets!", options: [{ t: "Option A: Write it thin and sharp.", res: "(Failed: Metal won't flow!)" }, { t: "Option B: Write it thick and rounded.", res: "(Success: Bronze script born!)" }], interact: "[Task] Shout: 'Yi Yan Jiu Ding'!" },
                    { loc: "ğŸ“ Station 3: Bamboo Slips", scene: "Report an emergency with limited space!", options: [{ t: "Option A: Write the full long report.", res: "(Failed: Slip broke!)" }, { t: "Option B: Use Minimalist mode.", res: "(Success: Report sent!)" }], interact: "[Challenge] 3 words to translate the report" },
                    { loc: "ğŸ“ Station 4: Street Stand", scene: "Explain democracy to a paperboy!", options: [{ t: "Option A: [Archaic] Civilized mother...", res: "(Failed: He walks away.)" }, { t: "Option B: [Vernacular] Fellow brothers!", res: "(Success: Movement starts!)" }], interact: "" },
                    { loc: "ğŸ“ Station 5: Digital Future", scene: "2050. Ensure the survival of characters.", options: [{ t: "Option A: [Traditional] No changes allowed.", res: "(Failed: Becomes a museum language.)" }, { t: "Option B: [Evolution] Embrace digital symbols.", res: "(Success: Interstellar popularity!)" }], interact: "" }
                ]
            }
        };

        let lang = 'zh';

        function switchPage(pageId) {
            document.querySelectorAll('section').forEach(s => s.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            if(pageId === 'canvas-page') initCanvas();
        }

        function toggleLanguage() {
            lang = lang === 'zh' ? 'en' : 'zh';
            renderAll();
        }

        function renderAll() {
            const d = DATA[lang];
            document.getElementById('main-intro').innerText = d.intro;
            document.getElementById('final-summary').innerText = d.summary;
           let timelineHtml = `
        <div class="stage-node" style="padding: 20px; border: 2px solid var(--gold); background: #fdfcf8;">
            <div class="media-item" style="aspect-ratio: 16/9; height: auto;">
                <video controls style="width: 100%; height: 100%;">
                    <source src="h4/video/zj.mp4" type="video/mp4"> æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾ã€‚
                </video>
            </div>
            <p style="text-align: center; font-weight: bold; margin-top: 15px;">
                ${lang === 'zh' ? 'ğŸ“œ æ±‰å­—æ¼”å˜æ€»ç»“è§†é¢‘' : 'ğŸ“œ Summary of Character Evolution'}
            </p>
        </div>
    `; 
            let timelineHtml = '';
            d.stages.forEach((s, idx) => {
                let systemHtml = '';
                for(let key in s.systems) {
                    systemHtml += `
                        <div class="system-dropdown">
                            <div class="system-label" onclick="toggleSystem(this)">${key} <span>+</span></div>
                            <div class="system-content">${s.systems[key]}</div>
                        </div>
                    `;
                }

                // æ ¸å¿ƒä¿®æ”¹ç‚¹ï¼š
                // 1. åœ¨è§†é¢‘è·¯å¾„åæ·»åŠ  #t=0.001 ä»¥è·å–ç¬¬ä¸€å¸§ã€‚
                // 2. ç§»é™¤ poster å±æ€§ï¼Œåˆ©ç”¨æµè§ˆå™¨é¦–å¸§æ¸²æŸ“ã€‚
                // 3. æ·»åŠ  preload="metadata" ç¡®ä¿åŠ è½½è·¯å¾„ã€‚
                const mediaHtml = `
                    <div class="media-area">
                        <div class="media-item">
                            <img src="${mediaAssets[idx].img}" alt="${s.name}" onerror="this.src='https://via.placeholder.com/400x225?text=Img+Missing'">
                        </div>
                        <div class="media-item">
                            <video controls preload="metadata" playsinline>
                                <source src="${mediaAssets[idx].vid}" type="video/mp4">
                                æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾ã€‚
                            </video>
                        </div>
                    </div>
                `;

                timelineHtml += `
                    <div class="stage-node">
                        <h2 style="color:var(--gold)">${s.name}</h2>
                        <p><strong>${s.time}</strong></p>
                        <p>${s.node}</p>
                        ${mediaHtml}
                        <div class="systems-wrap">${systemHtml}</div>
                        <button class="deep-dive-btn" onclick="toggleDeep(this)">
                            ${lang==='zh'?'æ·±åº¦è¯´æ˜':'Deep Dive'}
                        </button>
                        <div class="deep-dive-content">${s.deep}</div>
                    </div>
                `;
            });
            document.getElementById('timeline-list').innerHTML = timelineHtml;
            document.getElementById('corridor-title').innerText = d.corridorTitle;
            renderGame(0);
            document.getElementById('canvas-task').innerText = d.canvasTask;
        }

        function toggleSystem(el) {
            const content = el.nextElementSibling;
            content.style.display = content.style.display === 'block' ? 'none' : 'block';
            el.querySelector('span').innerText = content.style.display === 'block' ? '-' : '+';
        }

        function toggleDeep(btn) {
            const content = btn.nextElementSibling;
            content.style.display = content.style.display === 'block' ? 'none' : 'block';
        }

        function renderGame(step) {
            const g = DATA[lang].game[step];
            if(!g) return;
            let html = `
                <h3 style="color:var(--gold); font-size: 1.5rem;">${g.loc}</h3>
                <p><strong>${g.scene}</strong></p>
                <div class="choice-list">
                    ${g.options.map((o, i) => `<button class="choice-btn" onclick="showGameRes(${step}, ${i})">${o.t}</button>`).join('')}
                </div>
                <div id="res-${step}" class="result-panel"></div>
                ${step < 4 ? `<button id="next-btn" style="display:none; margin-top:20px; padding:12px 25px; cursor:pointer; font-size:1rem;" onclick="renderGame(${step+1})">${lang==='zh'?'å‰å¾€ä¸‹ä¸€ç«™':'Next Station'}</button>` : ''}
            `;
            document.getElementById('game-content').innerHTML = html;
        }

        function showGameRes(step, choice) {
            const res = DATA[lang].game[step].options[choice].res;
            const interact = DATA[lang].game[step].interact;
            const panel = document.getElementById(`res-${step}`);
            panel.innerHTML = `<strong>${res}</strong><br><br><span style="color:#555">${interact}</span>`;
            panel.style.display = 'block';
            const nextBtn = document.getElementById('next-btn');
            if(nextBtn) nextBtn.style.display = 'inline-block';
        }

        let canvas, ctx, isDrawing = false;
        function initCanvas() {
            canvas = document.getElementById('board');
            ctx = canvas.getContext('2d');
            ctx.lineWidth = 5; ctx.lineCap = 'round'; ctx.strokeStyle = '#1a1a1a';
            canvas.addEventListener('mousedown', start);
            canvas.addEventListener('mousemove', draw);
            canvas.addEventListener('mouseup', stop);
            canvas.addEventListener('touchstart', (e) => { start(e.touches[0]); e.preventDefault(); });
            canvas.addEventListener('touchmove', (e) => { draw(e.touches[0]); e.preventDefault(); });
            canvas.addEventListener('touchend', stop);
        }
        function start(e) { isDrawing = true; draw(e); }
        function stop() { isDrawing = false; ctx.beginPath(); }
        function draw(e) {
            if(!isDrawing) return;
            const rect = canvas.getBoundingClientRect();
            ctx.lineTo(e.clientX - rect.left, e.clientY - rect.top);
            ctx.stroke(); ctx.beginPath(); ctx.moveTo(e.clientX - rect.left, e.clientY - rect.top);
        }
        function clearCanvas() { ctx.clearRect(0, 0, canvas.width, canvas.height); }

        renderAll();
    </script>
</body>

</html>





